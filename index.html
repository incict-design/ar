<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>漢字メッセージ</title>
<style>
  body {
    font-family: 'Hiragino Sans', 'Noto Sans JP', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    background: #fafafa;
    color: #333;
  }
  h1 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }
  input {
    font-size: 1.2rem;
    padding: 0.4rem 0.6rem;
    border: 1px solid #ccc;
    border-radius: 6px;
    text-align: center;
    width: 8rem;
  }
  button {
    margin-top: 1rem;
    padding: 0.5rem 1.2rem;
    font-size: 1rem;
    border: none;
    border-radius: 8px;
    background-color: #4caf50;
    color: white;
    cursor: pointer;
  }
  button:hover {
    background-color: #45a049;
  }
  #result {
    margin-top: 2rem;
    font-size: 1.2rem;
    text-align: center;
    width: 90%;
    max-width: 500px;
    line-height: 1.6;
  }
</style>
</head>
<body>
  <h1>漢字メッセージ</h1>
  <input type="text" id="kanjiInput" maxlength="1" placeholder="漢字1文字" />
  <button id="showBtn">表示</button>
  <div id="result"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const input = document.getElementById('kanjiInput');
      const btn = document.getElementById('showBtn');
      const result = document.getElementById('result');

      const messages = [
        "静かな時間が心を整える日。","小さな一歩が未来を変える。","今日は笑顔で過ごせそう。","新しい発見が待っている。","心の声に耳を澄ませて。",
        "過去を見ず、今を感じて。","穏やかな風が幸せを運ぶ。","努力が少しずつ実を結ぶ。","人の優しさに触れられる日。","焦らず、ゆっくり進もう。",
        "今日は休息が力になる。","挑戦があなたを成長させる。","言葉より行動が伝わる日。","自分を信じる勇気を持とう。","笑うことで運が開ける。",
        "新しい出会いに恵まれる。","穏やかに流れる時間を大切に。","過ぎたことに囚われないで。","素直な気持ちを大事に。","色男、金と力はなかりけり。",
        "感謝が幸運を呼び寄せる。","思いやりが心を豊かにする。","一人の時間が心を磨く。","運命の糸が静かに動く。","努力の光が見え始める。",
        "静けさの中に答えがある。","今日は誰かに優しくできる。","直感を信じて動いてみよう。","心が軽くなる瞬間が来る。","穏やかに過ごせる一日。",
        "道はゆっくりでも確かに続く。","言葉より想いが届く時。","過去の努力が今を支える。","少しの勇気が世界を変える。","無理せず、自分らしく。",
        "足の速いものが競争に勝つとは限らない。","目の前の景色に気づこう。","感情を素直に表そう。","信頼が絆を深める日。","歩くことで新しい景色が見える。",
        "自然の声に耳を傾けよう。","小さな幸せが積み重なる日。","今日は新しいページの始まり。","優しさが巡り巡って戻る。","夢が少し近づく気配。",
        "心の余裕が明日を呼ぶ。","努力が報われる予感。","今日は穏やかな笑顔で。","人はパンのみに生きるのではない。","新しい視点を得られる日。",
        "静かに進むことで光が見える。","他人を認める心が広がる。","小さな挑戦が大きな成長に。","感謝が道を照らす。","今を生きる力が湧く日。",
        "人の言葉が励ましになる。","今日は直感が冴える。","趣味は勉強、特技はテスト。","心に灯りをともす瞬間。","信じる気持ちが現実を動かす。",
        "笑顔で過ごせば道が開く。","無理せず自然体でいよう。","新しい考えが生まれる時。","誰かのために動く日。","過去の思い出が優しく輝く。",
        "静寂の中に力が宿る。","宇佐美を独り占め。","今日は焦らず穏やかに。","人の温もりが心を癒す。","新しい風が心を満たす。",
        "笑うことで不安が消える。","今日は挑戦の第一歩。","言葉が力を持つ日。","願いが少し近づく日。","心の整理をする時間。",
        "自分らしくあることが美しい。","一歩引くことで見える景色。","努力の芽が育ち始める。","風が背中を押してくれる。","静かな幸せを感じる日。",
        "今日は原点に戻るチャンス。","過去を受け入れる強さ。","何気ない瞬間に幸せがある。","笑顔が人をつなぐ日。","考えすぎず自然に任せて。",
        "夢を信じて歩き続けよう。","小さな変化が大きな結果に。","心が安らぐ出来事がある。","今日は誰かに感謝する日。","言葉が心を救う日。",
        "努力の結果が形になる。","柔らかな光が包み込む日。","新しい流れが始まる。","優しい気持ちを忘れずに。","静かに見守ることも力。",
        "今日の出来事が未来を作る。","直感が良い方向へ導く。","少しの工夫で変わる日。","過去を糧にして進もう。","自然体で過ごせる一日。",
        "自分を大切にする時間。","人の笑顔が力になる。","天才は有限、努力は無限。","心の静けさが道を示す。","何事も焦らずに。",
        "今日は学びの多い日。","新しい発想が生まれる瞬間。","心に余裕を持って過ごそう。","笑顔が周囲を明るくする。","素直な言葉が届く日。",
        "チャンスは貯蓄できない。","今日の努力が未来を作る。","無理せず休むことも大事。","新しいチャンスが訪れる。","一息つくことで見える景色。",
        "勉強勉強勉強","優しい言葉が幸せを呼ぶ。","君の瞳にハイキック。","直感が良い方向を示す。","静かに成長していく日。",
        "出会いが人生を豊かにする。","自分のペースで進めばいい。","変化を恐れず受け入れよう。","今日は未来への準備の日。","少しの勇気が明日を変える。",
        "空を見上げて深呼吸を。","言葉より行動で示そう。","優しさが巡り巡って戻る。","心のままに進んで大丈夫。","今日は穏やかな喜びに出会う。",
        "努力を信じて前を向こう。","誰かの笑顔が力になる。","静かな時間に癒やされる日。","柔らかな気持ちで過ごそう。","自分の中にある光を信じて。",
        "焦らず自然な流れに任せよう。","退かぬ、媚びぬ、省みぬ。","感謝の気持ちを言葉にしよう。","新しい風が背中を押す。","知性と教養が服を着て歩いている。",
        "無理せずゆっくり進もう。","小さな幸せを感じられる日。","今日は心穏やかに過ごそう。","努力の先に光が見える。","夢に向かって一歩進む日。",
        "自然の声が導いてくれる。","人とのつながりを感じる日。","気合と根性が服を着て歩いている。","今日は新しい始まり。","思いやりが幸運を呼ぶ日。",
        "静けさの中に希望がある。","優しさが自分を癒やす日。","今日も自分を信じて進もう。","心が満たされる瞬間がある。","風が未来への道を照らす。",
        "小さな努力が積み重なる日。","今日は心の休息を。","素直に笑える一日。","変化を受け入れる力が湧く。","人との会話にヒントがある。",
        "穏やかな気持ちで進もう。","静かな光があなたを包む。","萩谷の壁ドン。","夢の種が芽吹く時。","優しい時間が流れる日。",
        "脳筋大爆発！","今この瞬間を味わおう。","感謝が未来を開く日。","浜田と焼肉食べ放題。","すべてが少しずつ良くなる。"
      ];

      function getMessage(kanji) {
        const today = new Date().toISOString().split('T')[0];
        const key = `fortune_${kanji}_${today}`;
        const saved = localStorage.getItem(key);

        if (saved) return saved;

        let hash = 0;
        const str = kanji + today;
        for (let i = 0; i < str.length; i++) {
          hash = (hash << 5) - hash + str.charCodeAt(i);
          hash |= 0;
        }
        const index = Math.abs(hash) % messages.length;
        const message = messages[index];

        localStorage.clear();
        localStorage.setItem(key, message);
        localStorage.setItem('fortune_date', today);
        return message;
      }

      btn.addEventListener('click', () => {
        const kanji = input.value.trim();
        if (!kanji.match(/^[一-龯]$/)) {
          result.textContent = '漢字1文字を入力してください。';
          return;
        }
        const today = new Date().toISOString().split('T')[0];
        const storedDate = localStorage.getItem('fortune_date');
        if (storedDate && storedDate !== today) {
          localStorage.clear();
        }
        const message = getMessage(kanji);
        result.textContent = message;
      });
    });
  </script>
</body>
</html>
